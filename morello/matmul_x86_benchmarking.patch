diff --git a/morello/examples/matmul_x86.rs b/morello/examples/matmul_x86.rs
index 8e374698..bdc34d2c 100644
--- a/morello/examples/matmul_x86.rs
+++ b/morello/examples/matmul_x86.rs
@@ -14,11 +14,19 @@ use morello::utils::ToWriteFmt;
 
 use nonzero::nonzero as nz;
 
+use std::env;
 use std::io;
 
 fn main() {
+    let args: Vec<String> = env::args().collect();
+
     let mut spec: Spec<X86Target> = spec!(MatmulAccum(
-        [1, 2048, 2048, 2048],
+        [
+            1,
+            args[1].parse().unwrap(),
+            args[2].parse().unwrap(),
+            args[3].parse().unwrap(),
+        ],
         (f32, GL, row_major),
         (f32, GL, row_major),
         (f32, GL, row_major),
@@ -111,19 +119,14 @@ fn main() {
     }
 
     // Benchmark.
-    const ITERS: u32 = 10;
+    let iterations = std::env::var("CHERRYBENCH_LOOP_STEPS")
+        .unwrap()
+        .parse::<u32>()
+        .unwrap();
     let result = implementation
-        .bench(ITERS, None)
+        .bench(iterations, None)
         .unwrap_or_else(|e| panic!("Failed to benchmark: {e}"));
-    let kernel_runtime =
-        (result.best_inner_loop_runtime() / result.inner_loop_iterations).as_secs_f64();
-    let throughput =
-        result.inner_loop_iterations as f64 / result.best_inner_loop_runtime().as_secs_f64();
-    println!("\n// cost: {}", Cost::from_impl(&implementation).main);
-    println!("// kernel runtime: {kernel_runtime:.4}s ({throughput:.2}/sec)",);
-    println!(
-        "// {:.4} gigaFLOPs/sec (Spec is {} FLOPs)",
-        (spec.flops().unwrap() as f64 * throughput) / 1_000_000_000.0,
-        spec.flops().unwrap(),
-    );
+    for duration in &result.inner_loop_runtimes {
+        println!("run: {:.4}s", duration.as_secs_f64());
+    }
 }
